[gd_scene load_steps=31 format=2]

[ext_resource path="res://Assets/Background.jpg" type="Texture" id=1]
[ext_resource path="res://Player/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://BaseScripts/CameraFollower.tscn" type="PackedScene" id=3]
[ext_resource path="res://Mobs/SmartMob/SmartMob.tscn" type="PackedScene" id=4]
[ext_resource path="res://BaseScripts/LevelManager.gd" type="Script" id=5]
[ext_resource path="res://BaseScripts/Spawnpoint.tscn" type="PackedScene" id=6]
[ext_resource path="res://UI/MoneyLabel.gd" type="Script" id=7]
[ext_resource path="res://Objects/VendingDash.tscn" type="PackedScene" id=8]
[ext_resource path="res://BaseScripts/CameraShake.gd" type="Script" id=9]
[ext_resource path="res://Objects/Box.tscn" type="PackedScene" id=10]
[ext_resource path="res://Assets/Light.png" type="Texture" id=11]
[ext_resource path="res://Objects/Door.tscn" type="PackedScene" id=12]

[sub_resource type="SegmentShape2D" id=1]
a = Vector2( -838.515, -526.202 )
b = Vector2( -843.037, 614.854 )

[sub_resource type="SegmentShape2D" id=2]
a = Vector2( -852.081, -494.548 )
b = Vector2( 881.578, -491.924 )

[sub_resource type="SegmentShape2D" id=3]
a = Vector2( 841.142, -509.505 )
b = Vector2( 842.9, 620.945 )

[sub_resource type="SegmentShape2D" id=4]
a = Vector2( 878.062, 589.299 )
b = Vector2( -908.155, 587.541 )

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 46.5109, 47.1913 )

[sub_resource type="OccluderPolygon2D" id=6]
polygon = PoolVector2Array( 44.9525, 56.4104, 40.0893, 138.545, -38.8033, 135.843, -35.5612, 52.0876 )

[sub_resource type="OccluderPolygon2D" id=7]
polygon = PoolVector2Array( -253.601, 1.56584, -254.458, 224.483, -267.319, 287.929, -291.325, 287.929, -292.183, 39.2904, -596.551, 43.5772, -629.131, 30.7166, -642.849, 1.56584 )

[sub_resource type="OccluderPolygon2D" id=8]
polygon = PoolVector2Array( -505.062, 407.729, -495.392, 442.995, -634.18, 436.738, -653.519, 238.227, -614.84, 242.777, -594.363, 402.041 )

[sub_resource type="OccluderPolygon2D" id=9]
polygon = PoolVector2Array( 1.63455, 365.084, -13.4596, 442.819, -90.4398, 429.989, -75.723, 352.254 )

[sub_resource type="OccluderPolygon2D" id=10]
polygon = PoolVector2Array( 212.312, 252.359, 210.985, 333.959, 310.498, 337.94, 312, 593, 349, 593, 347, 278, 280, 204, 264, 202, 263, 250 )

[sub_resource type="OccluderPolygon2D" id=11]
polygon = PoolVector2Array( 513.565, 401.331, 514.134, 440.578, 601.16, 441.147, 600.592, 339.9, 698.994, 338.763, 700.7, 252.874, 662.591, 252.874, 661.453, 303.497, 561.913, 303.497, 559.069, 402.468 )

[sub_resource type="OccluderPolygon2D" id=12]
polygon = PoolVector2Array( 700.361, 53.115, 698.507, 88.3251, 532.186, 94.3479, 460.376, 22.0744, 459.912, 4.00607, 507.631, 3.07949, 506.705, -46.956, 595.657, -46.4927, 597.047, 49.4086 )

[sub_resource type="OccluderPolygon2D" id=13]
polygon = PoolVector2Array( 551.177, -204.46, 550.664, -228.587, 564.524, -242.447, 606.105, -239.367, 665.139, -249.121, 712.88, -240.394, 714.933, -213.187 )

[sub_resource type="OccluderPolygon2D" id=14]
polygon = PoolVector2Array( 224.133, -345.846, 291.678, -353.411, 285.193, -168.068, 214.946, -170.769 )

[sub_resource type="OccluderPolygon2D" id=15]
polygon = PoolVector2Array( 562.858, -397.665, 589.876, -405.77, 593.118, -473.855, 694.706, -463.589, 697.408, -500.333, 557.995, -494.929 )

[sub_resource type="OccluderPolygon2D" id=16]
polygon = PoolVector2Array( -93.6845, -497.234, -91.6312, -428.959, -71.0975, -407.912, 46.4579, -415.612, 49.538, -498.774 )

[sub_resource type="OccluderPolygon2D" id=17]
polygon = PoolVector2Array( -442.433, -156.047, -329.216, -160.12, -259.169, -230.167, -322.7, -292.884, -441.618, -173.152 )

[sub_resource type="OccluderPolygon2D" id=18]
polygon = PoolVector2Array( -736.498, -187.445, -738.294, -161.101, -853.851, -160.502, -853.851, -420.354, -779.607, -411.972, -766.435, -343.716, -756.855, -291.027, -744.282, -267.077, -761.047, -208.401, -756.257, -194.63 )

[node name="Main" type="Node"]
script = ExtResource( 5 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Label" type="Label" parent="CanvasLayer"]
light_mask = 0
margin_left = 502.127
margin_top = 12.956
margin_right = 542.127
margin_bottom = 26.956
text = "test"
script = ExtResource( 7 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Player" parent="." instance=ExtResource( 2 )]
position = Vector2( 50.1047, -18.0821 )
skew = 4.37114e-08
has_dash = true

[node name="CameraFollower" parent="Player" instance=ExtResource( 3 )]

[node name="Camera2D" type="Camera2D" parent="Player/CameraFollower"]
current = true
zoom = Vector2( 0.5, 0.5 )
smoothing_enabled = true
script = ExtResource( 9 )

[node name="ShadowLight" type="Light2D" parent="Player"]
position = Vector2( 0.723709, -0.513878 )
skew = 4.37114e-08
texture = ExtResource( 11 )
color = Color( 0, 0, 0, 1 )
energy = 0.0
mode = 2
range_layer_max = 1
range_item_cull_mask = 4
shadow_enabled = true
shadow_color = Color( 0, 0, 0, 0.737255 )
shadow_filter = 5
shadow_filter_smooth = 1.5
shadow_item_cull_mask = 4

[node name="CullLight" type="Light2D" parent="Player"]
position = Vector2( 0.326492, -0.513878 )
skew = 4.37114e-08
texture = ExtResource( 11 )
mode = 3
range_layer_max = 1
range_item_cull_mask = 2
shadow_enabled = true
shadow_color = Color( 1, 1, 1, 0 )
shadow_filter = 2
shadow_filter_smooth = 13.0

[node name="Spawnpoints" type="Node" parent="."]

[node name="Spawnpoint" parent="Spawnpoints" instance=ExtResource( 6 )]
position = Vector2( -360.911, 104.956 )
mob_scene = ExtResource( 4 )
spawn_time = 1.25

[node name="Spawnpoint2" parent="Spawnpoints" instance=ExtResource( 6 )]
position = Vector2( 644.206, -397.593 )
mob_scene = ExtResource( 4 )
spawn_time = 1.25

[node name="Spawnpoint3" parent="Spawnpoints" instance=ExtResource( 6 )]
position = Vector2( -684.927, -257.474 )
mob_scene = ExtResource( 4 )
spawn_time = 1.25

[node name="Spawnpoint4" parent="Spawnpoints" instance=ExtResource( 6 )]
position = Vector2( 556.021, 231.89 )
mob_scene = ExtResource( 4 )
spawn_time = 1.25

[node name="Spawnpoint5" parent="Spawnpoints" instance=ExtResource( 6 )]
position = Vector2( -153.808, -436.184 )
mob_scene = ExtResource( 4 )
spawn_time = 1.25

[node name="LevelBoundry" type="StaticBody2D" parent="."]
skew = 4.37114e-08
collision_layer = 4
collision_mask = 7
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape2D3" type="CollisionShape2D" parent="LevelBoundry"]
shape = SubResource( 1 )

[node name="CollisionShape2D4" type="CollisionShape2D" parent="LevelBoundry"]
shape = SubResource( 2 )

[node name="CollisionShape2D5" type="CollisionShape2D" parent="LevelBoundry"]
shape = SubResource( 3 )

[node name="CollisionShape2D6" type="CollisionShape2D" parent="LevelBoundry"]
shape = SubResource( 4 )

[node name="Walls" type="StaticBody2D" parent="."]
skew = 4.37114e-08
collision_layer = 4
collision_mask = 3
__meta__ = {
"_edit_group_": true,
"_edit_lock_": true
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls"]
position = Vector2( 2.84399, 94.9896 )
rotation = 0.0300979
shape = SubResource( 5 )

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Walls"]
position = Vector2( -45.169, 399.358 )
rotation = 0.179167
shape = SubResource( 5 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Walls"]
polygon = PoolVector2Array( -247.335, -4.59378, -648.879, -2.49878, -636.309, 35.2114, -602.091, 48.4798, -297.616, 47.7815, -296.219, 295.691, -262, 295.691, -244.542, 225.159 )

[node name="CollisionPolygon2D6" type="CollisionPolygon2D" parent="Walls"]
polygon = PoolVector2Array( 542.854, -196.077, 719.324, -207.422, 716.173, -245.237, 665.753, -254.69, 603.358, -245.867, 559.241, -247.127, 544.115, -231.371 )

[node name="CollisionPolygon2D5" type="CollisionPolygon2D" parent="Walls"]
polygon = PoolVector2Array( 704.887, 47.1945, 705.914, 95.4486, 529.324, 98.0154, 456.943, 24.0941, 454.89, -2.08636, 502.63, -2.59971, 503.657, -51.3672, 603.245, -52.3939, 605.812, 43.0877 )

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="Walls"]
polygon = PoolVector2Array( 508.49, 446.702, 607.565, 446.702, 607.052, 345.573, 706.64, 346.6, 705.1, 247.525, 656.846, 247.011, 656.846, 295.266, 556.744, 296.292, 554.691, 396.907, 507.463, 397.934 )

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="Walls"]
polygon = PoolVector2Array( 357.017, 597.008, 354.224, 272.281, 280.898, 196.162, 257.155, 194.766, 255.06, 243.649, 204.779, 245.744, 203.383, 344.21, 305.34, 348.4, 304.642, 594.913 )

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Walls"]
polygon = PoolVector2Array( -658.051, 234.686, -637.799, 441.393, -485.561, 449.773, -500.226, 400.89, -588.915, 398.096, -609.865, 238.876 )

[node name="CollisionPolygon2D7" type="CollisionPolygon2D" parent="Walls"]
polygon = PoolVector2Array( 301.469, -364.984, 294.536, -158.892, 206.931, -164.565, 215.755, -355.53 )

[node name="CollisionPolygon2D8" type="CollisionPolygon2D" parent="Walls"]
polygon = PoolVector2Array( -99.6367, -505.184, -97.746, -426.403, -72.536, -401.823, 50.9929, -409.386, 65.4886, -434.596, 56.6651, -503.293 )

[node name="CollisionPolygon2D9" type="CollisionPolygon2D" parent="Walls"]
polygon = PoolVector2Array( 554.766, -502.27, 558.18, -390.592, 595.243, -398.883, 597.682, -461.793, 707.409, -453.99, 705.946, -507.634 )

[node name="CollisionPolygon2D10" type="CollisionPolygon2D" parent="Walls"]
polygon = PoolVector2Array( -448.8, -173.713, -448.8, -153.461, -323.099, -156.254, -246.282, -230.976, -321.004, -301.508 )

[node name="CollisionPolygon2D11" type="CollisionPolygon2D" parent="Walls"]
polygon = PoolVector2Array( -858.187, -429.327, -766.171, -421.764, -730.877, -336.05, -748.524, -296.345, -732.767, -270.504, -754.826, -204.958, -652.095, -200.547, -652.095, -158.32, -745.372, -146.976, -858.817, -157.69 )

[node name="LightOccluder2D" type="LightOccluder2D" parent="Walls"]
light_mask = 5
skew = 4.37114e-08
occluder = SubResource( 6 )
light_mask = 5

[node name="LightOccluder2D2" type="LightOccluder2D" parent="Walls"]
light_mask = 5
skew = 4.37114e-08
occluder = SubResource( 7 )
light_mask = 5

[node name="LightOccluder2D3" type="LightOccluder2D" parent="Walls"]
light_mask = 5
skew = 4.37114e-08
occluder = SubResource( 8 )
light_mask = 5

[node name="LightOccluder2D4" type="LightOccluder2D" parent="Walls"]
light_mask = 5
skew = 4.37114e-08
occluder = SubResource( 9 )
light_mask = 5

[node name="LightOccluder2D5" type="LightOccluder2D" parent="Walls"]
light_mask = 5
skew = 4.37114e-08
occluder = SubResource( 10 )
light_mask = 5

[node name="LightOccluder2D6" type="LightOccluder2D" parent="Walls"]
light_mask = 5
skew = 4.37114e-08
occluder = SubResource( 11 )
light_mask = 5

[node name="LightOccluder2D7" type="LightOccluder2D" parent="Walls"]
light_mask = 5
skew = 4.37114e-08
occluder = SubResource( 12 )
light_mask = 5

[node name="LightOccluder2D8" type="LightOccluder2D" parent="Walls"]
light_mask = 5
skew = 4.37114e-08
occluder = SubResource( 13 )
light_mask = 5

[node name="LightOccluder2D9" type="LightOccluder2D" parent="Walls"]
light_mask = 5
skew = 4.37114e-08
occluder = SubResource( 14 )
light_mask = 5

[node name="LightOccluder2D10" type="LightOccluder2D" parent="Walls"]
light_mask = 5
skew = 4.37114e-08
occluder = SubResource( 15 )
light_mask = 5

[node name="LightOccluder2D11" type="LightOccluder2D" parent="Walls"]
light_mask = 5
skew = 4.37114e-08
occluder = SubResource( 16 )
light_mask = 5

[node name="LightOccluder2D12" type="LightOccluder2D" parent="Walls"]
light_mask = 5
skew = 4.37114e-08
occluder = SubResource( 17 )
light_mask = 5

[node name="LightOccluder2D13" type="LightOccluder2D" parent="Walls"]
light_mask = 5
skew = 4.37114e-08
occluder = SubResource( 18 )
light_mask = 5

[node name="Background" type="Sprite" parent="."]
modulate = Color( 0.854902, 0.854902, 0.854902, 1 )
light_mask = 4
position = Vector2( 2.51758, 45.9825 )
skew = 4.37114e-08
z_index = -100
texture = ExtResource( 1 )
__meta__ = {
"_edit_lock_": true
}

[node name="DebugNode" type="Node2D" parent="."]
visible = false
skew = 4.37114e-08

[node name="Sprite" type="Sprite" parent="DebugNode"]
scale = Vector2( 0.2, 0.2 )

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
volume_db = -36.006
autoplay = true

[node name="Box" parent="." instance=ExtResource( 10 )]
position = Vector2( -46.2134, -35.2102 )
skew = 4.37114e-08

[node name="SmartMob" parent="." instance=ExtResource( 4 )]
position = Vector2( 39.4904, 168.022 )
skew = 4.37114e-08

[node name="Door" parent="." instance=ExtResource( 12 )]
position = Vector2( 274.124, -40.0406 )
rotation = 1.12289
scale = Vector2( 0.2, 0.2 )

[node name="Payable" parent="." instance=ExtResource( 8 )]
position = Vector2( 161.812, 62.7177 )
scale = Vector2( 0.2, 0.2 )

[editable path="Spawnpoints/Spawnpoint"]

[editable path="Spawnpoints/Spawnpoint2"]

[editable path="Spawnpoints/Spawnpoint3"]

[editable path="Spawnpoints/Spawnpoint4"]

[editable path="Spawnpoints/Spawnpoint5"]
